<!-- Modal -->

<div class="modal fade" id="modal-qrcode-{{vehicle.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel1">QR Code for <b>{{ vehicle.reg_no }} </b> - Print and stick it on your vehicle.</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <img src="/media/{{ vehicle.qrcode.image }}" alt="{{vehicle.reg_no}}" class="mx-auto d-block my-3 img-fluid">
            
            <button  class="btn btn-outline-success btn-block btn-sm mx-auto d-block mb-1" onclick="PrintElem()">
                Print <i class="fas fa-print"></i>
            </button>
           
            <a href="/media/{{ vehicle.qrcode.image }}" download class="btn btn-outline-info btn-sm mx-auto d-block">
                Download <i class="fas fa-download"></i>
              </a>
        </div>
        
      </div>
    </div>
  </div>
  <script>
      function PrintElem()
        {
            var mywindow = window.open('', 'PRINT', 'height=400,width=600');

            mywindow.document.write('<html><head><title>' + document.title  + '</title>');
            mywindow.document.write('</head><body >');
            mywindow.document.write('<img src="/media/{{ vehicle.qrcode.image }}" alt="{{vehicle.reg_no}}" class="mx-auto d-block my-3 img-fluid">');
            // mywindow.document.write(document.getElementById(elem).innerHTML);
            mywindow.document.write('</body></html>');

            mywindow.document.close(); // necessary for IE >= 10
            mywindow.focus(); // necessary for IE >= 10*/

            mywindow.print();
            mywindow.close();

            return true;
        }
  </script>